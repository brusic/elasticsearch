---
"Get all scripts":

  - skip:
      version: " - 7.99.99"
      reason:  this uses a new API that has been added in 8.0

  - do:
      put_script:
        id: "1"
        body: { "script": { "lang": "painless", "source": "_score * doc['myParent.weight'].value" } }
  - match: { acknowledged: true }

  - do:
      put_script:
        id: "foo"
        body: { "script": { "lang": "painless", "source": "_score * 9.9" } }
  - match: { acknowledged: true }

  - do:
     get_script:
       new_format: true

  - length: { $body: 2 }
  - match: { 1: {"lang": "painless", "source": "_score * doc['myParent.weight'].value"} }
  - match: { foo: {"lang": "painless", "source": "_score * 9.9"} }
